#! /bin/bash
#******************************************************************************
#
# * File: lockscreen
#
# * Author:  Umut Sevdi
# * Created: 08/20/22
# * Description: A script that locks screen while blurring the active
# desktop
# * @require i3lock, scrot
#*****************************************************************************

if ! command -v i3lock &> /dev/null ; then
    echo "i3lock doesn't exist" 1>&2
    exit
elif ! command -v scrot &> /dev/null; then
    echo "scrot doesn't exist" 1>&2
    exit
fi

pic=/tmp/i3lock.png
sc="scrot $pic"
blur="16x9"
$sc
convert $pic -blur $blur -flatten $pic
i3lock -i $pic
rm $pic
